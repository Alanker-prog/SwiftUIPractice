//
//  ImageLoaderView.swift
//  SwiftUIPractice
//
//  Created by –ê–ª–∞–Ω –ü–∞—Ä–∞—Å—Ç–∞–µ–≤ on 01.12.2025.
//

import SwiftUI
import SDWebImageSwiftUI



/*
 ‚ú¥Ô∏è –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ä–∞–Ω–¥–æ–º–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø–∞–∫–µ—Ç SDWebImageSwiftUI(—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞), –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ URLSession
 
 üî• –≠—Ç–∞ —Å—Ç—É–∫—Ç—É—Ä–∞ —ç—Ç–æ –∫–∞—Å—Ç–æ–º–Ω—ã–π SwiftUI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.
 
 üü¢ var urlString: String = Constans.randomImage - —á–µ—Ä–µ–∑ urlString –≤—ã–∑—ã–≤–∞–µ–º —Ä–∞–Ω–¥–æ–º–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
 üü¢ var resizingMode: ContentMode = .fill - —ç—Ç–æ –ª–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–º–µ–Ω–∞—è –¥–µ–ª–∞–µ—Ç .aspectRatio(‚ö†Ô∏è–∫–ª—é—á–µ–≤–æ–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä: Rectangle –∑–∞–¥–∞—ë—Ç —Ä–∞–∑–º–µ—Ä –∏ WebImage —Ä–∞—Å—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥ –Ω–µ–≥–æ) —É–Ω–µ–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º , –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø–æ–º–µ–Ω—è—Ç—å ContentMode: —Å .fill –Ω–∞ .fit ,–µ—Å–ª–∏ —Å—Ç–æ–∏—Ç –¥—Ä—É–≥–∞—è –∑–∞–¥–∞—á–∞
 
 üü° Rectangle() —Ç—É—Ç –Ω—É–∂–µ–Ω –∫–∞–∫ –ø–æ–¥–ª–∂–∫–∞(–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä) –¥–ª—è —á—Ç–æ –±—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å—Ç–∏–Ω—É–ª–æ—Å—å –æ–±—Ä–µ–∑–∞–ª–æ—Å—å
    ‚û°Ô∏è .opacity(0.001) - –¥–µ–ª–∞–µ–º Rectangle() –Ω–µ–≤–∏–¥–∏–º—ã–º
    ‚û°Ô∏è —á–µ—Ä–µ–∑ .overlay { –Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ->  WebImage(url: URL(string: urlString))
    ‚û°Ô∏è .resizable() - —á—Ç–æ –±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –º–µ–Ω—è—Ç—å —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    ‚û°Ô∏è .indicator(.activity) - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä(—Å–ø–∏–Ω–µ—Ä) –∑–∞–≥—Ä—É–∑–∫–∏
    ‚û°Ô∏è .allowsHitTesting(false) - –≤—ã–∫–ª—é—á–∞–µ–º –Ω–∞–∂–∞—Ç–∏–µ —É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è(–Ω–∞–∂–∏–º–∞—Ç—å –±—É–¥–µ–º –Ω–∞ Rectangle())
    ‚û°Ô∏è .clipped() - –æ–±—Ä–µ–∑–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–¥ —Ä–∞–∑–º–µ—Ä—ã  Rectangle(). ‚ö†Ô∏è –ù–æ –¥–∞–∂–µ –ø–æ—Å–ª–µ –æ–±—Ä–µ–∑–∞–Ω–∏—è –∫—Ä–∞—è —Ñ–æ—Ç–æ –≤—ã—Ö–æ–¥—è—Ç –∑–∞ —Ä–∞–º–∫—É Rectangle() –Ω–æ –≤–∏–∑—É–ª—å–Ω–æ –º—ã —ç—Ç–æ–≥–æ –Ω–µ –≤–∏–¥–µ–º –∏ –Ω–∞ —ç—Ç–∏ –∫—Ä–∞—è –º–æ–∂–Ω–æ –Ω–∞–∂–∞—Ç—å –∏ –±—É–¥–µ—Ç –ª–æ–∂–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ, –∏ –∏–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –º—ã –≤—ã–∫–ª—é—á–∏–ª–∏ –Ω–∞–∂–∞—Ç–∏—è —É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -> .allowsHitTesting(false). –ò –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–º–µ—Ç –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –æ–Ω –±—É–¥–µ—Ç –Ω–∞–∂–∏–º–∞—Ç—å –Ω–∞ Rectangle()
 
  ‚ùï–î–∞–ª–µ–µ —Å–æ–∑–¥–∞–µ–º DatabaseHelper ‚û°Ô∏è
 */
struct ImageLoaderView: View {
    
    var urlString: String = Constans.randomImage
    var resizingMode: ContentMode = .fill
    
    var body: some View {
        Rectangle()
            .opacity(0.001)
            .overlay {
                WebImage(url: URL(string: urlString))
                    .resizable()
                    .indicator(.activity)
                    .aspectRatio(contentMode: resizingMode)
                    .allowsHitTesting(false)
            }
            .clipped()
    }
}

#Preview {
    ImageLoaderView()
        .cornerRadius(30)
        .padding(40)
        .padding(.vertical, 60)
}
